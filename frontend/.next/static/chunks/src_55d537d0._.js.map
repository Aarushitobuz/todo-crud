{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/itobuz/Desktop/aarush/task3/frontend/src/components/TodoItem.tsx"],"sourcesContent":["'use client';\nimport React from 'react';\nimport { ITodo } from '../lib/todo/types';\nimport { FiEdit, FiTrash2 } from 'react-icons/fi';\n\ntype TodoItemProps = {\n    todo: ITodo;\n    onEdit: (todo: ITodo) => void;\n    onDelete: (id: string) => void;\n    onToggleComplete: (todo: ITodo) => void;\n};\n\nexport default function TodoItem({\n    todo,\n    onEdit,\n    onDelete,\n    onToggleComplete,\n}: TodoItemProps) {\n    return (\n        <li className=\"flex justify-between items-center p-4 border rounded-md shadow-sm  hover:shadow-md  bg-white dark:bg-gray-800 transition-all\">\n            <div className=\"flex items-start gap-4\">\n                <input\n                    type=\"checkbox\"\n                    checked={todo.completed}\n                    onChange={() => onToggleComplete(todo)}\n                    className=\"mt-1 accent-blue-600\"\n                />\n                <div>\n                    <h3\n                        className={`text-lg font-medium ${\n                            todo.completed ? 'line-through text-gray-500' : 'text-gray-900 dark:text-white'\n                        }`}\n                    >\n                        {todo.title}\n                    </h3>\n                    <p\n                        className={`text-sm ${\n                            todo.completed ? 'line-through text-gray-400' : 'text-gray-700 dark:text-gray-300'\n                        }`}\n                    >\n                        {todo.description}\n                    </p>\n                </div>\n            </div>\n            <div className=\"flex gap-3 items-center\">\n                <button\n                    onClick={() => onEdit(todo)}\n                    className=\"text-blue-500 hover:text-blue-700\"\n                    title=\"Edit\"\n                >\n                    <FiEdit size={18} />\n                </button>\n                <button\n                    onClick={() => onDelete(todo._id)}\n                    className=\"text-red-500 hover:text-red-700\"\n                    title=\"Delete\"\n                >\n                    <FiTrash2 size={18} />\n                </button>\n            </div>\n        </li>\n    );\n}"],"names":[],"mappings":";;;;AAGA;AAHA;;;AAYe,SAAS,SAAS,EAC7B,IAAI,EACJ,MAAM,EACN,QAAQ,EACR,gBAAgB,EACJ;IACZ,qBACI,6LAAC;QAAG,WAAU;;0BACV,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBACG,MAAK;wBACL,SAAS,KAAK,SAAS;wBACvB,UAAU,IAAM,iBAAiB;wBACjC,WAAU;;;;;;kCAEd,6LAAC;;0CACG,6LAAC;gCACG,WAAW,CAAC,oBAAoB,EAC5B,KAAK,SAAS,GAAG,+BAA+B,iCAClD;0CAED,KAAK,KAAK;;;;;;0CAEf,6LAAC;gCACG,WAAW,CAAC,QAAQ,EAChB,KAAK,SAAS,GAAG,+BAA+B,oCAClD;0CAED,KAAK,WAAW;;;;;;;;;;;;;;;;;;0BAI7B,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBACG,SAAS,IAAM,OAAO;wBACtB,WAAU;wBACV,OAAM;kCAEN,cAAA,6LAAC,iJAAA,CAAA,SAAM;4BAAC,MAAM;;;;;;;;;;;kCAElB,6LAAC;wBACG,SAAS,IAAM,SAAS,KAAK,GAAG;wBAChC,WAAU;wBACV,OAAM;kCAEN,cAAA,6LAAC,iJAAA,CAAA,WAAQ;4BAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;AAKpC;KAlDwB","debugId":null}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["file:///Users/itobuz/Desktop/aarush/task3/frontend/src/components/TodoList.tsx"],"sourcesContent":["'use client';\nimport React from 'react';\nimport TodoItem from './TodoItem';\nimport { ITodo } from '../lib/todo/types';\n\ntype TodoListProps = {\n    todos: ITodo[];\n    onEdit: (todo: ITodo) => void;\n    onDelete: (id: string) => void;\n    onToggleComplete: (todo: ITodo) => void;\n};\n\nexport default function TodoList({\n    todos,\n    onEdit,\n    onDelete,\n    onToggleComplete,\n}: TodoListProps) {\n    if (!todos.length) {\n        return <p className=\"text-center text-gray-500 mt-6\">No todos yet.</p>;\n    }\n    return (\n        <ul className=\"space-y-4 mt-6\">\n            {todos.map((todo) => (\n                <TodoItem\n                    key={todo._id}\n                    todo={todo}\n                    onEdit={onEdit}\n                    onDelete={onDelete}\n                    onToggleComplete={onToggleComplete}\n                />\n            ))}\n        </ul>\n    );\n}"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAYe,SAAS,SAAS,EAC7B,KAAK,EACL,MAAM,EACN,QAAQ,EACR,gBAAgB,EACJ;IACZ,IAAI,CAAC,MAAM,MAAM,EAAE;QACf,qBAAO,6LAAC;YAAE,WAAU;sBAAiC;;;;;;IACzD;IACA,qBACI,6LAAC;QAAG,WAAU;kBACT,MAAM,GAAG,CAAC,CAAC,qBACR,6LAAC,iIAAA,CAAA,UAAQ;gBAEL,MAAM;gBACN,QAAQ;gBACR,UAAU;gBACV,kBAAkB;eAJb,KAAK,GAAG;;;;;;;;;;AASjC;KAtBwB","debugId":null}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":["file:///Users/itobuz/Desktop/aarush/task3/frontend/src/components/TodoForm.tsx"],"sourcesContent":["'use client';\nimport React from 'react';\n\ntype Props = {\n    title: string;\n    description: string;\n    onTitleChange: (value: string) => void;\n    onDescriptionChange: (value: string) => void;\n    onSubmit: (e: React.FormEvent) => void;\n    editing: boolean;\n    formErrors?: {\n        title?: string;\n        description?: string;\n    };\n};\n\nexport default function TodoForm({\n    title,\n    description,\n    onTitleChange,\n    onDescriptionChange,\n    onSubmit,\n    editing,\n    formErrors,\n}: Props) {\n    return (\n        <form onSubmit={onSubmit} className=\"space-y-4\">\n            <div>\n                <input\n                    type=\"text\"\n                    placeholder=\"Title\"\n                    className={`w-full px-4 py-2 border rounded dark:bg-gray-900 dark:text-white ${\n                        formErrors?.title ? 'border-red-500' : ''\n                    }`}\n                    value={title}\n                    onChange={(e) => onTitleChange(e.target.value)}\n                />\n                {formErrors?.title && (\n                    <p className=\"text-red-500 text-sm mt-1\">{formErrors.title}</p>\n                )}\n            </div>\n\n            <div>\n                <textarea\n                    placeholder=\"Description\"\n                    className={`w-full px-4 py-2 border rounded dark:bg-gray-900 dark:text-white ${\n                        formErrors?.description ? 'border-red-500' : ''\n                    }`}\n                    value={description}\n                    onChange={(e) => onDescriptionChange(e.target.value)}\n                />\n                {formErrors?.description && (\n                    <p className=\"text-red-500 text-sm mt-1\">{formErrors.description}</p>\n                )}\n            </div>\n\n            <button\n                type=\"submit\"\n                className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full\"\n            >\n                {editing ? 'Update Todo' : 'Add Todo'}\n            </button>\n        </form>\n    );\n}\n"],"names":[],"mappings":";;;;AAAA;;AAgBe,SAAS,SAAS,EAC7B,KAAK,EACL,WAAW,EACX,aAAa,EACb,mBAAmB,EACnB,QAAQ,EACR,OAAO,EACP,UAAU,EACN;IACJ,qBACI,6LAAC;QAAK,UAAU;QAAU,WAAU;;0BAChC,6LAAC;;kCACG,6LAAC;wBACG,MAAK;wBACL,aAAY;wBACZ,WAAW,CAAC,iEAAiE,EACzE,YAAY,QAAQ,mBAAmB,IACzC;wBACF,OAAO;wBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;oBAEhD,YAAY,uBACT,6LAAC;wBAAE,WAAU;kCAA6B,WAAW,KAAK;;;;;;;;;;;;0BAIlE,6LAAC;;kCACG,6LAAC;wBACG,aAAY;wBACZ,WAAW,CAAC,iEAAiE,EACzE,YAAY,cAAc,mBAAmB,IAC/C;wBACF,OAAO;wBACP,UAAU,CAAC,IAAM,oBAAoB,EAAE,MAAM,CAAC,KAAK;;;;;;oBAEtD,YAAY,6BACT,6LAAC;wBAAE,WAAU;kCAA6B,WAAW,WAAW;;;;;;;;;;;;0BAIxE,6LAAC;gBACG,MAAK;gBACL,WAAU;0BAET,UAAU,gBAAgB;;;;;;;;;;;;AAI3C;KAhDwB","debugId":null}},
    {"offset": {"line": 263, "column": 0}, "map": {"version":3,"sources":["file:///Users/itobuz/Desktop/aarush/task3/frontend/src/lib/api.ts"],"sourcesContent":["import axios from 'axios';\n\nconst api = axios.create({\n  baseURL: 'http://localhost:3001',\n});\n\napi.interceptors.request.use((config) => {\n  if (typeof window !== 'undefined') {\n    const token = localStorage.getItem('token');\n    if (token && config.headers) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n  }\n  return config;\n}, (error) => {\n  return Promise.reject(error);\n});\n\nexport default api;\n\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,wCAAmC;QACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,SAAS,OAAO,OAAO,EAAE;YAC3B,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;QAClD;IACF;IACA,OAAO;AACT,GAAG,CAAC;IACF,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAEe","debugId":null}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":["file:///Users/itobuz/Desktop/aarush/task3/frontend/src/lib/todo/listTodo.ts"],"sourcesContent":["import api from '../api';\nimport { ITodo } from './types';\n\nexport const listTodo = async(): Promise<ITodo[]> => {\n    const response = await api.get<ITodo[]>('/todo/all-todos');\n    return response.data;\n}"],"names":[],"mappings":";;;AAAA;;AAGO,MAAM,WAAW;IACpB,MAAM,WAAW,MAAM,oHAAA,CAAA,UAAG,CAAC,GAAG,CAAU;IACxC,OAAO,SAAS,IAAI;AACxB","debugId":null}},
    {"offset": {"line": 310, "column": 0}, "map": {"version":3,"sources":["file:///Users/itobuz/Desktop/aarush/task3/frontend/src/lib/todo/postTodo.ts"],"sourcesContent":["import api from '../api';\nimport {ITodo} from './types';\n\nexport const postTodo = async( todo: {\n    title: string;\n    description: string;\n}): Promise<ITodo> =>  {\n    const response = await api.post<ITodo>('/todo/todos',todo);\n    return response.data;\n}\n\n"],"names":[],"mappings":";;;AAAA;;AAGO,MAAM,WAAW,OAAO;IAI3B,MAAM,WAAW,MAAM,oHAAA,CAAA,UAAG,CAAC,IAAI,CAAQ,eAAc;IACrD,OAAO,SAAS,IAAI;AACxB","debugId":null}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"sources":["file:///Users/itobuz/Desktop/aarush/task3/frontend/src/lib/todo/updateTodo.ts"],"sourcesContent":["import api from '../api';\nimport { ITodo } from './types';\n\nexport const updateTodo = async(id: string, updatedFields: Partial<ITodo>): Promise<ITodo> => {\n    const response = await api.put<ITodo>(`/todo/todos/${id}`,updatedFields);\n    return response.data;\n}\n"],"names":[],"mappings":";;;AAAA;;AAGO,MAAM,aAAa,OAAM,IAAY;IACxC,MAAM,WAAW,MAAM,oHAAA,CAAA,UAAG,CAAC,GAAG,CAAQ,CAAC,YAAY,EAAE,IAAI,EAAC;IAC1D,OAAO,SAAS,IAAI;AACxB","debugId":null}},
    {"offset": {"line": 346, "column": 0}, "map": {"version":3,"sources":["file:///Users/itobuz/Desktop/aarush/task3/frontend/src/lib/todo/deleteTodo.ts"],"sourcesContent":["import api from '../api';\n\nexport const deleteTodo = async( id: string ): Promise<void> => {\n    await api.delete(`/todo/todos/${id}`)\n}"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,aAAa,OAAO;IAC7B,MAAM,oHAAA,CAAA,UAAG,CAAC,MAAM,CAAC,CAAC,YAAY,EAAE,IAAI;AACxC","debugId":null}},
    {"offset": {"line": 363, "column": 0}, "map": {"version":3,"sources":["file:///Users/itobuz/Desktop/aarush/task3/frontend/src/app/todos/page.tsx"],"sourcesContent":["'use client';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport TodoList from '../../components/TodoList';\nimport TodoForm from '../../components/TodoForm';\nimport { ITodo } from '../../lib/todo/types';\nimport { listTodo } from '../../lib/todo/listTodo';\nimport { postTodo } from '../../lib/todo/postTodo';\nimport { updateTodo } from '../../lib/todo/updateTodo';\nimport { deleteTodo } from '../../lib/todo/deleteTodo';\n\nexport default function TodosPage() {\n    const [todos, setTodos] = useState<ITodo[]>([]);\n    const [title, setTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [editingTodo, setEditingTodo] = useState<ITodo | null>(null);\n    const [formErrors, setFormErrors] = useState<{ title?: string; description?: string }>({});\n    const router = useRouter();\n    const fetchTodos = useCallback(async () => {\n        try {\n            const res = await listTodo();\n            setTodos(res);\n        } catch (err) {\n            console.error('Error fetching todos:', err);\n            router.push('/auth/login');\n        }\n    }, [router]);\n    useEffect(() => {\n        fetchTodos();\n    }, [fetchTodos]);\n    \n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        const errors: typeof formErrors = {};\n        if (!title.trim()) {\n            errors.title = 'Title is required';\n        }\n        if (!description.trim()) {\n            errors.description = 'Description is required';\n        }\n        if (Object.keys(errors).length > 0) {\n            setFormErrors(errors);\n            return;\n        }\n        setFormErrors({});\n        try {\n            if (editingTodo) {\n                await updateTodo(editingTodo._id, {\n                    title,\n                    description,\n                    completed: editingTodo.completed,\n                });\n                setEditingTodo(null);\n            } else {\n                await postTodo({ title, description });\n            }\n            setTitle('');\n            setDescription('');\n            fetchTodos();\n        } catch (err) {\n            console.error('Error saving todo:', err);\n        }\n    };\n    const handleEdit = (todo: ITodo) => {\n        setEditingTodo(todo);\n        setTitle(todo.title);\n        setDescription(todo.description);\n    };\n    const handleDelete = async (id: string) => {\n        const confirm = window.confirm('Are you sure you want to delete this todo?');\n        if (!confirm) return;\n        try {\n            await deleteTodo(id);\n            fetchTodos();\n        } catch (err) {\n            console.error('Error deleting todo:', err);\n        }\n    };\n    const handleToggleComplete = async (todo: ITodo) => {\n        try {\n            await updateTodo(todo._id, {\n                ...todo,\n                completed: !todo.completed,\n            });\n            fetchTodos();\n        } catch (err) {\n            console.error('Error toggling completion:', err);\n        }\n    };\n    return (\n        <main className=\"max-w-2xl mx-auto p-6\">\n            <h1 className=\"text-2xl font-bold mb-4 text-center text-gray-800 dark:text-white\">\n                My Todos\n            </h1>\n            <TodoForm\n                title={title}\n                description={description}\n                onTitleChange={setTitle}\n                onDescriptionChange={setDescription}\n                onSubmit={handleSubmit}\n                editing={!!editingTodo}\n                formErrors={formErrors}\n            />\n            <TodoList\n                todos={todos}\n                onEdit={handleEdit}\n                onDelete={handleDelete}\n                onToggleComplete={handleToggleComplete}\n            />\n        </main>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}