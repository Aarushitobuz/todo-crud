(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{2453:(e,t,a)=>{Promise.resolve().then(a.bind(a,6817))},5731:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let s=a(3464).A.create({baseURL:"http://localhost:3001"});s.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&e.headers&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e));let r=s},6817:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var s=a(5155),r=a(2115),d=a(5731),l=a(351);function n(){let[e,t]=(0,r.useState)(""),[a,n]=(0,r.useState)(""),[o,i]=(0,r.useState)(""),[u,c]=(0,r.useState)(!1),[x,m]=(0,r.useState)(!1),[b,h]=(0,r.useState)(!1),[p,g]=(0,r.useState)(""),[y,k]=(0,r.useState)(""),[w,j]=(0,r.useState)(!1),N=async s=>{if(s.preventDefault(),k(""),g(""),a!==o)return void k("New password and confirm password do not match.");j(!0);try{let s=await d.A.put("/user/change-password",{oldPassword:e,newPassword:a});g(s.data.message||"Password changed successfully"),t(""),n(""),i("")}catch(e){var r,l;k((null==(l=e.response)||null==(r=l.data)?void 0:r.error)||"Failed to change password")}finally{j(!1)}};return(0,s.jsxs)("div",{className:"max-w-md mx-auto bg-white dark:bg-gray-900 p-6 rounded-xl shadow-md",children:[(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[(0,s.jsx)(l.F5$,{className:"text-xl text-blue-600 dark:text-blue-400 mr-2"}),(0,s.jsx)("h2",{className:"text-xl font-semibold dark:text-white",children:"Change Password"})]}),p&&(0,s.jsx)("p",{className:"text-green-600 text-sm mb-2",children:p}),y&&(0,s.jsx)("p",{className:"text-red-600 text-sm mb-2",children:y}),(0,s.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Current Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:u?"text":"password",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full px-4 py-2 border rounded-md pr-10 dark:bg-gray-800 dark:text-white dark:border-gray-700"}),(0,s.jsx)("button",{type:"button",onClick:()=>c(!u),className:"absolute top-2.5 right-3 text-gray-600 dark:text-gray-300",children:u?(0,s.jsx)(l._NO,{}):(0,s.jsx)(l.Vap,{})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"New Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:x?"text":"password",value:a,onChange:e=>n(e.target.value),required:!0,minLength:6,className:"w-full px-4 py-2 border rounded-md pr-10 dark:bg-gray-800 dark:text-white dark:border-gray-700"}),(0,s.jsx)("button",{type:"button",onClick:()=>m(!x),className:"absolute top-2.5 right-3 text-gray-600 dark:text-gray-300",children:x?(0,s.jsx)(l._NO,{}):(0,s.jsx)(l.Vap,{})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Confirm New Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:b?"text":"password",value:o,onChange:e=>i(e.target.value),required:!0,className:"w-full px-4 py-2 border rounded-md pr-10 dark:bg-gray-800 dark:text-white dark:border-gray-700"}),(0,s.jsx)("button",{type:"button",onClick:()=>h(!b),className:"absolute top-2.5 right-3 text-gray-600 dark:text-gray-300",children:b?(0,s.jsx)(l._NO,{}):(0,s.jsx)(l.Vap,{})})]})]}),(0,s.jsx)("button",{type:"submit",disabled:w,className:"w-full py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition dark:bg-blue-500 dark:hover:bg-blue-600 disabled:opacity-50",children:w?"Updating...":"Change Password"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[844,673,441,684,358],()=>t(2453)),_N_E=e.O()}]);