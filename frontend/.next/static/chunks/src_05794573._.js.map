{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/itobuz/Desktop/aarush/task3/frontend/src/lib/api.ts"],"sourcesContent":["import axios from 'axios';\n\nconst api = axios.create({\n  baseURL: 'http://localhost:3001',\n});\n\napi.interceptors.request.use((config) => {\n  if (typeof window !== 'undefined') {\n    const token = localStorage.getItem('token');\n    if (token && config.headers) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n  }\n  return config;\n}, (error) => {\n  return Promise.reject(error);\n});\n\nexport default api;\n\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,wCAAmC;QACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,SAAS,OAAO,OAAO,EAAE;YAC3B,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;QAClD;IACF;IACA,OAAO;AACT,GAAG,CAAC;IACF,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAEe","debugId":null}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///Users/itobuz/Desktop/aarush/task3/frontend/src/components/changePasswordForm.tsx"],"sourcesContent":["'use client';\nimport { useState } from 'react';\nimport api from '@/lib/api';\nimport { AxiosError } from 'axios';\nimport { FiLock, FiEye, FiEyeOff } from 'react-icons/fi';\n\nexport default function ChangePasswordForm() {\n    const [oldPassword, setOldPassword] = useState('');\n    const [newPassword, setNewPassword] = useState('');\n    const [confirmPassword, setConfirmPassword] = useState('');\n    const [showOld, setShowOld] = useState(false);\n    const [showNew, setShowNew] = useState(false);\n    const [showConfirm, setShowConfirm] = useState(false);\n    const [successMsg, setSuccessMsg] = useState('');\n    const [errorMsg, setErrorMsg] = useState('');\n    const [loading, setLoading] = useState(false);\n\n    const handleChangePassword = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setErrorMsg('');\n        setSuccessMsg('');\n        if (newPassword !== confirmPassword) {\n            setErrorMsg('New password and confirm password do not match.');\n            return;\n        }\n        setLoading(true);\n        try {\n            const res = await api.put('/user/change-password', { oldPassword, newPassword,});\n            setSuccessMsg(res.data.message || 'Password changed successfully');\n            setOldPassword('');\n            setNewPassword('');\n            setConfirmPassword('');\n        } catch (err) {\n            const error = err as AxiosError<{ error: string }>;\n            setErrorMsg(error.response?.data?.error || 'Failed to change password');\n        } finally {\n            setLoading(false);\n        }\n    };\n    return (\n        <div className=\"max-w-md mx-auto bg-white dark:bg-gray-900 p-6 rounded-xl shadow-md\">\n            <div className=\"flex items-center mb-4\">\n                <FiLock className=\"text-xl text-blue-600 dark:text-blue-400 mr-2\" />\n                <h2 className=\"text-xl font-semibold dark:text-white\">Change Password</h2>\n            </div>\n            {successMsg && <p className=\"text-green-600 text-sm mb-2\">{successMsg}</p>}\n            {errorMsg && <p className=\"text-red-600 text-sm mb-2\">{errorMsg}</p>}\n            <form onSubmit={handleChangePassword} className=\"space-y-4\">        \n                <div>\n                    <label className=\"block text-sm font-medium mb-1 dark:text-gray-300\">\n                        Current Password\n                    </label>\n                    <div className=\"relative\">\n                        <input\n                            type={showOld ? 'text' : 'password'}\n                            value={oldPassword}\n                            onChange={(e) => setOldPassword(e.target.value)}\n                            required\n                            className=\"w-full px-4 py-2 border rounded-md pr-10 dark:bg-gray-800 dark:text-white dark:border-gray-700\"\n                        />\n                        <button\n                            type=\"button\"\n                            onClick={() => setShowOld(!showOld)}\n                            className=\"absolute top-2.5 right-3 text-gray-600 dark:text-gray-300\"\n                        >\n                            {showOld ? <FiEyeOff /> : <FiEye />}\n                        </button>\n                    </div>\n                </div>\n                <div>\n                    <label className=\"block text-sm font-medium mb-1 dark:text-gray-300\">\n                        New Password\n                    </label>\n                    <div className=\"relative\">\n                        <input\n                            type={showNew ? 'text' : 'password'}\n                            value={newPassword}\n                            onChange={(e) => setNewPassword(e.target.value)}\n                            required\n                            minLength={6}\n                            className=\"w-full px-4 py-2 border rounded-md pr-10 dark:bg-gray-800 dark:text-white dark:border-gray-700\"\n                        />\n                        <button\n                            type=\"button\"\n                            onClick={() => setShowNew(!showNew)}\n                            className=\"absolute top-2.5 right-3 text-gray-600 dark:text-gray-300\"\n                        >\n                            {showNew ? <FiEyeOff /> : <FiEye />}\n                        </button>\n                    </div>\n                </div>\n                <div>\n                    <label className=\"block text-sm font-medium mb-1 dark:text-gray-300\">\n                        Confirm New Password\n                    </label>\n                    <div className=\"relative\">\n                        <input\n                            type={showConfirm ? 'text' : 'password'}\n                            value={confirmPassword}\n                            onChange={(e) => setConfirmPassword(e.target.value)}\n                            required\n                            className=\"w-full px-4 py-2 border rounded-md pr-10 dark:bg-gray-800 dark:text-white dark:border-gray-700\"\n                        />\n                        <button\n                            type=\"button\"\n                            onClick={() => setShowConfirm(!showConfirm)}\n                            className=\"absolute top-2.5 right-3 text-gray-600 dark:text-gray-300\"\n                        >\n                            {showConfirm ? <FiEyeOff /> : <FiEye />}\n                        </button>\n                    </div>\n                </div>\n                <button\n                    type=\"submit\"\n                    disabled={loading}\n                    className=\"w-full py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition dark:bg-blue-500 dark:hover:bg-blue-600 disabled:opacity-50\"\n                >\n                    {loading ? 'Updating' : 'Change Password'}\n                </button>\n            </form>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}